var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,h,e){a instanceof String&&(a=String(a));for(var k=a.length,g=0;g<k;g++){var b=a[g];if(h.call(e,b,g,a))return{i:g,v:b}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,h,e){a!=Array.prototype&&a!=Object.prototype&&(a[h]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,h,e,k){if(h){e=$jscomp.global;a=a.split(".");for(k=0;k<a.length-1;k++){var g=a[k];g in e||(e[g]={});e=e[g]}a=a[a.length-1];k=e[a];h=h(k);h!=k&&null!=h&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6-impl","es3");
jQuery(function(a){function h(b,c,f,d){var l=b.clone().removeClass("cm-location");l.find(".menu-location-title").empty();b=l.find("select").attr("name").match(/menu-locations\[(.*)\]/)[1];if(null==c){if("undefined"==typeof e[b]){c=parseInt;var h=themify_cm.options[b],k=[],g;for(g in h)h.hasOwnProperty(g)&&k.push(g);e[b]=c(a(k).last()[0]);a.isNumeric(e[b])||(e[b]=1)}c=e[b]++}l.find("select").find('option[value="0"]').text(themify_cm.lang.disable_menu).before('<option value=""></option>').end().val(f).attr("name",
"themify_cm["+b+"]["+c+"][menu]");f="themify_cm["+b+"]["+c+"][condition]";d=d||"";l.find(".locations-row-links").empty().html('<input type="hidden" name="'+f+"\" value='"+d+'\' /><a href="#" class="themify-cm-conditions">'+themify_cm.lang.conditions+'</a> <a class="themify-cm-remove" href="#">x</a>');l.insertBefore(jQuery('.menu-locations tr[data-menu="'+b+'"]'));d=a(".menu-location-menus select").length;f=a(".cm-replacement-button").length+1;l.find(".menu-location-menus").attr("data-item",b+c);d===
f&&a(".themify-cm-conditions-container:first").addClass("themify-cm-conditions-container-"+b+c).data("item",b+c);d>f&&a(".themify-cm-conditions-container:first").clone().removeClass().addClass("themify-cm-conditions-container themify-admin-lightbox clearfix themify-cm-conditions-container-"+b+c).data("item",b+c).insertAfter(".themify-cm-conditions-container:last");a(".lightbox_container",".themify-cm-conditions-container-"+b+c).html("")}var e=[],k,g=function(){var a=document;return Math.max(Math.max(a.body.scrollHeight,
a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))};a(".menu-locations .locations-row-links").empty();a("body").on("click",".themify-cm-conditions",function(b){b.preventDefault();var c=a(this);b=c.html();c.html('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>'+b);k=a(this).prev();var f=a(document).scrollTop()+80,d=a(".themify-cm-conditions-container-"+a(this).parents(".menu-location-menus").data("item"));
d.hasClass("is-loaded")?(a(".tb_slider_loader_wrapper",c).remove(),a("#themify-cm-overlay").show(),d.show().css("top",g()).animate({top:f},800),a("#visibility-tabs",d).tabs(),a("#visibility-tabs .themify-visibility-inner-tabs",d).tabs()):a.ajax({type:"POST",url:ajaxurl,data:{action:"themify_cm_get_conditions",selected:k.val()},success:function(b){a(".tb_slider_loader_wrapper",c).remove();a("#themify-cm-overlay").show();a(".lightbox_container",d).append(b);d.show().css("top",g()).animate({top:f},800);
a("#visibility-tabs",d).tabs();a("#visibility-tabs .themify-visibility-inner-tabs",d).tabs()}});return!1}).on("click","#visibility-tabs .themify-visibility-tab",function(b){b.preventDefault();var c=a(this);b=a("#themify-cm-original-conditions");if(!c.data("active")){var f=c.data("type"),d=c.parents("#visibility-tabs").find(".themify-visibility-type-options[data-type="+f+"]"),e=c.parents(".themify-cm-conditions-container").data("item"),e=a(".menu-location-menus[data-item="+e+"] .locations-row-links input").val();
a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_inner_page",type:f,selected:e,original_values:b.val()},beforeSend:function(){d.html('<div class="tb_slider_loader"></div>')},success:function(b){b=JSON.parse(b);d.html(b.html);c.data("active","on");a("#themify-cm-original-conditions").val(b.original_values)}})}}).on("click",".themify-visibility-pagination .page-numbers",function(b){b.preventDefault();b=a(this);var c=b.parents(".themify-visibility-options"),f=b.parents(".themify-visibility-items-inner"),
d=a(".themify-visibility-pagination",f),e=parseFloat(a(".themify-visibility-pagination .current",f).text()),g=1;b.hasClass("next")?g=e+1:b.hasClass("prev")?g=e-1:b.hasClass("page-numbers")&&(g=parseFloat(b.text()));var h=a(".themify-visibility-items-inner",c);a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_page_pagination",current_page:g,num_of_pages:f.data("pages")},beforeSend:function(){a(".tb_slider_loader",c).remove();d.hide();h.append('<div class="tb_slider_loader"></div>')},success:function(b){a(".tb_slider_loader",
c).remove();a(".themify-visibility-items-page-"+g,f).removeClass("is-hidden");d.html(b).show()}})}).on("click",".themify-cm-close, #themify-cm-overlay",function(b){b.preventDefault();var c=a(this).parents(".themify-cm-conditions-container");c.animate({top:g()},800,function(){a("#themify-cm-overlay").hide();c.hide().addClass("is-loaded")});return!1}).on("click",".themify-mc-add-assignment",function(b){h(a("#locations-"+a(this).closest("tr").attr("data-menu")).closest("tr"));return!1}).on("click",".themify-cm-save",
function(){for(var b=a(this).parents(".themify-cm-conditions-container"),c=b.data("item"),f=a("form",b).serialize(),d=a("#themify-cm-original-conditions",b).val(),d=""===d?[]:d.split("&"),f=""===f?[]:f.split("&"),f=d.concat(f).concat(),d=0;d<f.length;++d)for(var e=d+1;e<f.length;++e)f[d]===f[e]&&f.splice(e--,1);f=f.join("&");k.val(f);a(".menu-location-menus[data-item="+c+"]").val(f);a(".themify-cm-close",b).click();return!1}).on("click",".themify-cm-remove",function(){a(this).closest("tr").fadeOut(function(){a(this).remove()});
var b=a(this).closest(".menu-location-menus").data("item");1<a(".menu-location-menus[data-item]").length?a(".themify-cm-conditions-container-"+b).remove():a(".themify-cm-conditions-container").removeClass().addClass("themify-cm-conditions-container themify-admin-lightbox clearfix");return!1}).on("click",".themify-cm-conditions-container .uncheck-all",function(){a(this).before('<span class="tb_slider_loader_wrapper"><span class="tb_slider_loader"></span></span>');var b=a(this).parents(".themify-cm-conditions-container"),
c=b.data("item");a(".menu-location-menus[data-item="+c+"] .locations-row-links input[type=hidden]").val("");a("#themify-cm-original-conditions",b).val("");a("input:checkbox",b).removeAttr("checked");a(this).parent().find(".tb_slider_loader_wrapper").remove();a(".themify_all_condition_checked",b).removeClass("themify_all_condition_checked");return!1}).on("click",".themify-cm-conditions-container .themify_apply_all_conditions",function(){var b=a(this),c=b.parents(".themify-visibility-inner-tab").find(".themify-visibility-items-inner");
b.prop("checked")?c.addClass("themify_all_condition_checked"):c.removeClass("themify_all_condition_checked")});a.each(themify_cm.nav_menus,function(b,c){a("#locations-"+c).closest("tr").after('<tr class="cm-replacement-button" data-menu="'+c+'"><td>&nbsp;</td><td><a href="#" class="themify-mc-add-assignment">'+themify_cm.lang.add_assignment+"</a></td></tr>")});a.each(themify_cm.options,function(b,c){"object"==typeof c&&a.each(c,function(c,d){h(a("#locations-"+b).closest("tr"),c,d.menu,d.condition);
e[b]=++c})});a("#themify-cm-about").appendTo("p.button-controls")});
